include ./corresp.gfn
open http://ricardo.ecn.wfu.edu/pub/gretldata/smoking.gdt

xtab RANK SMOKING
xtab RANK SMOKING --row

# --- canonical example from Greenacre

bundle uno = ca_series(RANK, SMOKING)
ca_printout(&uno)
ca_plot(&uno, -1, -2)
ca_plot(&uno, 3, -2)

# --- now the same using only matrices and string arrays

matrix X = mxtab(RANK, SMOKING)
bundle due = ca_matrix(X)
due["rlabels"] = strsplit("sen_mgr jnr_mgr sen_emp jun_emp sec")
due["clabels"] = strsplit("none light medium heavy")

ca_printout(&due)
ca_plot(&due, 1, -2)
ca_plot(&due, 3, -2)