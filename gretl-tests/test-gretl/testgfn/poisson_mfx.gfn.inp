include ./poisson_mfx.gfn
open affairs.gdt
# stata to compare
# use "http://www.dartmouth.edu/~econ20pa/affairs.dta"
list X = const male age yrsmarr

poisson naffairs X
b1 = poisson_mfx(naffairs,X,$coeff,$vcv)
poisson_mfx_print(&b1)

# stata to compare
# poisson naffairs male age yrsmarr
# mfx compute

eval poisson_dp_dx({1,2,3,4},X,{0.1,0.2,0.3,1})

negbin naffairs X
b2 = poisson_mfx(naffairs,X,$coeff,$vcv,0)
poisson_mfx_print(&b2)

# stata to compare
# nbreg naffairs male age yrsmarr, dispersion(mean)
# mfx compute

negbin naffairs X --model1
b3 = poisson_mfx(naffairs,X,$coeff,$vcv,0)
poisson_mfx_print(&b3)

# stata to compare
# nbreg naffairs male age yrsmarr, dispersion(constant)
# mfx compute