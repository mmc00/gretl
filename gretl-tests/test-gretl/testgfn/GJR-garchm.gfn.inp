include ./GJR-garchm.gfn
#================================================================
#   GJR-GARCH-in-Mean fucntion for gretl by Yi-Nung Yang
#   Chung Yuan Christian University, Taiwan
#   http://yaya.it.cycu.edu.tw/gretl
#================================================================
# full parameters usages:
# arguments:
#    Dependent varaible = r
#       GARCH p=1
#       ARCH q=2
#    List of independent variables in the mean equation (can be null)
#       gjr_order = 1
#       GARCH-in-Mean option =0, 1, 2, 3
#    LB-Q stats order for standardized residuals =8
#    LB-Q2 stats order for standardized residuals =12
#    backbast parameter (for initial h_0) = 0.7
#    Show initial parameters? = 0 (no)
#    Save (standardized) residuals? = 1 (yes)
#        User defined "residual" name on Saving
#        User defined "h" name on Saving

open djclose
series r=ldiff(djclose)*100

# A general GJR-GARCH-in-mean case with saving standardized residuals and predicted h
# retList is a list include standardized residuals (named u_hat) and predicted conditional variance (named h_uhat)
retList = garchm(r, 1, 2, null, 1, 1, 8, 12, 0.7, 0, 1, "u_hat", "h_hat")

# GARCH(1,1) without any variables in the mean equation
garchm(r,1,1)

# GARCH(1,1) with a contant only in the mean equation
list list0 = const
garchm(r,1,1,list0)

# GJR-GARCG(1,1,null,1)
garchm(r,1,1,null,1)

# GARCH in mean (in-mean term: h^0.5)
garchm(r,1,1,null,0,1)

# AR(2)-GARCH(1,1) WITHOUT a contant only in the mean equation
list list2 = r(-1) r(-2) r(-3)
garchm(r,1,1,list2)

# AR(3)-GARCH(1,1) with a contant only in the mean equation
list list3 = const r(-1) r(-2) r(-3)
garchm(r,1,1,list3)