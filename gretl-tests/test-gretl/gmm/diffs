=== /home/helio/github/gretl/gretl-tests/test-gretl/gmm ===
output/CKLS.out vs newout/CKLS.out:
69c69
< Function evaluations: 11
---
> Function evaluations: 12
76c76
<   theta[1]    0.0408239   0.0220113     1.855    0.0636   *
---
>   theta[1]    0.0408239   0.0220111     1.855    0.0636   *
81c81
<   GMM criterion: Q = 2.66202e-27 (TQ = 8.14577e-25)
---
>   GMM criterion: Q = 2.46281e-27 (TQ = 7.5362e-25)
95,97c95,97
<   theta[1]    0.00634566    0.0191697      0.3310    0.7406  
<   theta[2]   -0.0150364     0.335949      -0.04476   0.9643  
<   theta[3]    0.000423789   5.91177e-05    7.169     7.58e-13 ***
---
>   theta[1]    0.00634567    0.0191694      0.3310    0.7406  
>   theta[2]   -0.0150364     0.335944      -0.04476   0.9643  
>   theta[3]    0.000423789   5.91180e-05    7.169     7.58e-13 ***
output/gmm2.out vs newout/gmm2.out:
7,88c7
< 
< Read datafile /opt/esl/share/gretl/data/verbeek/pricing.gdt
< periodicity: 12, maxobs: 418
< observations range: 1959:02 to 1993:11
< 
< Listing 13 variables:
<   0) const    1) r1       2) r2       3) r3       4) r4     
<   5) r5       6) r6       7) r7       8) r8       9) r9     
<  10) r10     11) rf      12) cons   
< 
< ? loop i=1..10 --quiet
< > genr ex$i = r$i - rf
< > endloop
< ? series gf = 1 + rf
< Generated series gf (ID 23)
< ? list exlist = ex*
< Generated list exlist
< ? scalar d = 0.5
< Generated scalar d = 0.5
< ? scalar g = 10
< Generated scalar g = 10
< ? matrix V = I(11)
< Generated matrix V
< ? series m = mrate(cons,d,g)
< Generated series m (ID 24)
< ? series oc1 = m * gf - 1
< Generated series oc1 (ID 25)
< /*
<   first step
< */
< ? gmm
< ? series m = mrate(cons,d,g)
< ? series oc1 = m * gf - 1
< ? orthog m ; exlist
< ? orthog oc1 ; const
< ? weights V
< ? params d g
< ? end gmm
< Tolerance = 1.81899e-12
< 
< Function evaluations: 112
< Evaluations of gradient: 38
< 
< Model 1: 1-step GMM, using observations 1959:02-1993:11 (T = 418)
< HAC standard errors, bandwidth 5 (Bartlett kernel)
< 
<              estimate    std. error     z     p-value 
<   ----------------------------------------------------
<   d           0.699606    0.143540    4.874   1.09e-06 ***
<   g          91.4099     38.8075      2.355   0.0185   **
< 
<   GMM criterion: Q = 4.46296e-06 (TQ = 0.00186552)
< 
< /*
<   iteration --- asymptotically unncessary, but it is
<   sometimes suggested it improves small-sample properties
< */
< ? gmm
< ? series m = mrate(cons,d,g)
< ? series oc1 = m * gf - 1
< ? orthog m ; exlist
< ? orthog oc1 ; const
< ? weights V
< ? params d g
< ? end gmm --iterate
< Tolerance = 1.81899e-12
< 
< Function evaluations: 25
< Evaluations of gradient: 2
< 
< Model 2: Iterated GMM, using observations 1959:02-1993:11 (T = 418)
< HAC standard errors, bandwidth 5 (Bartlett kernel)
< 
<              estimate    std. error     z     p-value 
<   ----------------------------------------------------
<   d           0.836038    0.112194    7.452   9.21e-14 ***
<   g          58.3467     33.7317      1.730   0.0837   *
< 
<   GMM criterion: Q = 0.0156189 (TQ = 6.52869)
<   J test: Chi-square(9) = 6.52869 [0.6861]
< 
< Done
---
> pricing.gdt: No such file or directory
output/gmm3.out vs newout/gmm3.out:
7,119c7
< 
< Read datafile /opt/esl/share/gretl/data/verbeek/pricing.gdt
< periodicity: 12, maxobs: 418
< observations range: 1959:02 to 1993:11
< 
< Listing 13 variables:
<   0) const    1) r1       2) r2       3) r3       4) r4     
<   5) r5       6) r6       7) r7       8) r8       9) r9     
<  10) r10     11) rf      12) cons   
< 
< ? loop i=1..10 --quiet
< > genr ex$i = r$i - rf
< > endloop
< ? series gf = 1 + rf
< Generated series gf (ID 23)
< ? list exlist = ex*
< Generated list exlist
< ? matrix A = { exlist }
< Generated matrix A
< ? matrix exr = A
< Generated matrix exr
< ? scalar d = 0.5
< Generated scalar d = 0.5
< ? scalar g = 10
< Generated scalar g = 10
< ? matrix V = I(11)
< Generated matrix V
< ? series m = mrate(cons,d,g)
< Generated series m (ID 24)
< ? series oc1 = m * gf - 1
< Generated series oc1 (ID 25)
< /*
<   first step
< */
< ? gmm
< ? series m = mrate(cons,d,g)
< ? series oc1 = m * gf - 1
< ? orthog m ; exlist
< ? orthog oc1 ; const
< ? weights V
< ? params d g
< ? end gmm
< Tolerance = 1.81899e-12
< 
< Function evaluations: 112
< Evaluations of gradient: 38
< 
< Model 1: 1-step GMM, using observations 1959:02-1993:11 (T = 418)
< HAC standard errors, bandwidth 5 (Bartlett kernel)
< 
<              estimate    std. error     z     p-value 
<   ----------------------------------------------------
<   d           0.699606    0.143540    4.874   1.09e-06 ***
<   g          91.4099     38.8075      2.355   0.0185   **
< 
<   GMM criterion: Q = 4.46296e-06 (TQ = 0.00186552)
< 
< /*
<   two step --- asymptotically, this is efficient
< */
< ? gmm
< ? series m = mrate(cons,d,g)
< ? series oc1 = m * gf - 1
< ? orthog m ; exlist
< ? orthog oc1 ; const
< ? weights V
< ? params d g
< ? end gmm --two-step
< Tolerance = 1.81899e-12
< 
< Function evaluations: 40
< Evaluations of gradient: 11
< 
< Model 2: 2-step GMM, using observations 1959:02-1993:11 (T = 418)
< HAC standard errors, bandwidth 5 (Bartlett kernel)
< 
<              estimate    std. error     z     p-value 
<   ----------------------------------------------------
<   d           0.808160    0.113542    7.118   1.10e-12 ***
<   g          68.2767     32.9505      2.072   0.0383   **
< 
<   GMM criterion: Q = 0.0132633 (TQ = 5.54407)
<   J test: Chi-square(9) = 5.54407 [0.7845]
< 
< /*
<   iteration --- asymptotically unncessary, but it is
<   sometimes suggested it improves small-sample properties
< */
< ? gmm
< ? series m = mrate(cons,d,g)
< ? series oc1 = m * gf - 1
< ? orthog m ; exlist
< ? orthog oc1 ; const
< ? weights V
< ? params d g
< ? end gmm --iterate
< Tolerance = 1.81899e-12
< 
< Function evaluations: 11
< Evaluations of gradient: 1
< 
< Model 3: Iterated GMM, using observations 1959:02-1993:11 (T = 418)
< HAC standard errors, bandwidth 5 (Bartlett kernel)
< 
<              estimate    std. error     z     p-value 
<   ----------------------------------------------------
<   d           0.836036    0.112194    7.452   9.21e-14 ***
<   g          58.3473     33.7316      1.730   0.0837   *
< 
<   GMM criterion: Q = 0.0156188 (TQ = 6.52867)
<   J test: Chi-square(9) = 6.52867 [0.6861]
< 
< Done
---
> pricing.gdt: No such file or directory
output/hall.out vs newout/hall.out:
61c61
< Function evaluations: 21
---
> Function evaluations: 23
70,71c70,71
<   g          0.398197   2.13372        0.1866   0.8520 
<   d          0.993180   0.00454361   218.6      0.0000  ***
---
>   g          0.398197   2.13379        0.1866   0.8520 
>   d          0.993180   0.00454370   218.6      0.0000  ***
87,88c87,88
< Function evaluations: 112
< Evaluations of gradient: 20
---
> Function evaluations: 107
> Evaluations of gradient: 21
96,97c96,97
<   g          -1.87155    4.55917       -0.4105   0.6814 
<   d           0.998543   0.00844732   118.2      0.0000  ***
---
>   g          -1.87155    4.55915       -0.4105   0.6814 
>   d           0.998543   0.00844728   118.2      0.0000  ***
101d100
< Warning: norm of gradient = 1.07652
113c112
< Function evaluations: 21
---
> Function evaluations: 27
122,123c121,122
<   g          0.698299   1.69887        0.4110   0.6810 
<   d          0.994171   0.00352317   282.2      0.0000  ***
---
>   g          0.698299   1.69878        0.4111   0.6810 
>   d          0.994171   0.00352305   282.2      0.0000  ***
140c139
< Function evaluations: 87
---
> Function evaluations: 90
148c147
<   g          -3.14458    6.84434      -0.4594   0.6459 
---
>   g          -3.14458    6.84436      -0.4594   0.6459 
164c163
< Function evaluations: 22
---
> Function evaluations: 21
172,173c171,172
<   g          0.398197   2.26336        0.1759   0.8603 
<   d          0.993180   0.00439332   226.1      0.0000  ***
---
>   g          0.398197   2.26354        0.1759   0.8604 
>   d          0.993180   0.00439358   226.1      0.0000  ***
186c185
< Function evaluations: 41
---
> Function evaluations: 33
194,195c193,194
<   g          -0.327520   2.21915       -0.1476   0.8827 
<   d           0.991840   0.00424613   233.6      0.0000  ***
---
>   g          -0.327544   2.21836       -0.1477   0.8826 
>   d           0.991840   0.00424490   233.7      0.0000  ***
200c199
< Warning: norm of gradient = 1.71011
---
> Warning: norm of gradient = 1.70402
212c211
< Function evaluations: 73
---
> Function evaluations: 32
220,221c219,220
<   g          -0.316762   2.21507       -0.1430   0.8863 
<   d           0.991638   0.00423933   233.9      0.0000  ***
---
>   g          -0.316781   2.21449       -0.1430   0.8863 
>   d           0.991638   0.00423776   234.0      0.0000  ***
235,236c234,235
< Function evaluations: 13
< Evaluations of gradient: 1
---
> Function evaluations: 37
> Evaluations of gradient: 3
243,244c242,243
<   g          -0.344314   2.21526       -0.1554   0.8765 
<   d           0.991566   0.00423726   234.0      0.0000  ***
---
>   g          -0.344313   2.21491       -0.1555   0.8765 
>   d           0.991566   0.00423669   234.0      0.0000  ***
260c259
< Function evaluations: 13
---
> Function evaluations: 16
268,269c267,268
<   g          -0.344320   2.21388       -0.1555   0.8764 
<   d           0.991566   0.00423513   234.1      0.0000  ***
---
>   g          -0.344321   2.21436       -0.1555   0.8764 
>   d           0.991566   0.00423587   234.1      0.0000  ***
285c284
< Function evaluations: 116
---
> Function evaluations: 112
293,294c292,293
<   g          -1.87155    5.84000      -0.3205   0.7486 
<   d           0.998543   0.0106269    93.96     0.0000  ***
---
>   g          -1.87155    5.83995      -0.3205   0.7486 
>   d           0.998543   0.0106268    93.96     0.0000  ***
309c308
< Function evaluations: 21
---
> Function evaluations: 25
317,318c316,317
<   g          0.698299   1.86678        0.3741   0.7084 
<   d          0.994171   0.00376101   264.3      0.0000  ***
---
>   g          0.698299   1.86680        0.3741   0.7084 
>   d          0.994171   0.00376104   264.3      0.0000  ***
339,340c338,339
<   g          0.706210   1.83023        0.3859   0.6996 
<   d          0.993514   0.00354874   280.0      0.0000  ***
---
>   g          0.706210   1.83002        0.3859   0.6996 
>   d          0.993514   0.00354840   280.0      0.0000  ***
356c355
< Function evaluations: 38
---
> Function evaluations: 30
364,365c363,364
<   g          0.666434   1.82778        0.3646   0.7154 
<   d          0.993595   0.00354432   280.3      0.0000  ***
---
>   g          0.666434   1.82772        0.3646   0.7154 
>   d          0.993595   0.00354457   280.3      0.0000  ***
387,388c386,387
<   g          0.666627   1.82759        0.3648   0.7153 
<   d          0.993592   0.00354436   280.3      0.0000  ***
---
>   g          0.666624   1.82771        0.3647   0.7153 
>   d          0.993592   0.00354456   280.3      0.0000  ***
404,405c403,404
< Function evaluations: 14
< Evaluations of gradient: 1
---
> Function evaluations: 52
> Evaluations of gradient: 2
412,413c411,412
<   g          0.666627   1.82781        0.3647   0.7153 
<   d          0.993592   0.00354470   280.3      0.0000  ***
---
>   g          0.666627   1.82785        0.3647   0.7153 
>   d          0.993592   0.00354435   280.3      0.0000  ***
output/harvey2.out vs newout/harvey2.out:
76c76
<   alpha      0.831862   0.863888       0.9629   0.3356 
---
>   alpha      0.831859   0.863888       0.9629   0.3356 
output/harvey.out vs newout/harvey.out:
81c81
<   alpha      0.831862   0.863888       0.9629   0.3356 
---
>   alpha      0.831859   0.863888       0.9629   0.3356 
output/HS_HAC.out vs newout/HS_HAC.out:
106c106
< Function evaluations: 41
---
> Function evaluations: 48
115,116c115,116
<   g          0.398222   2.13404        0.1866   0.8520 
<   d          0.993180   0.00454413   218.6      0.0000  ***
---
>   g          0.398208   2.13386        0.1866   0.8520 
>   d          0.993180   0.00454383   218.6      0.0000  ***
125c125
< Function evaluations: 41
---
> Function evaluations: 48
134,135c134,135
<   g          0.398222   2.14778        0.1854   0.8529 
<   d          0.993180   0.00454014   218.8      0.0000  ***
---
>   g          0.398208   2.14761        0.1854   0.8529 
>   d          0.993180   0.00453984   218.8      0.0000  ***
144c144
< Function evaluations: 41
---
> Function evaluations: 48
153,154c153,154
<   g          0.398222   2.09072        0.1905   0.8489 
<   d          0.993180   0.00450219   220.6      0.0000  ***
---
>   g          0.398208   2.09056        0.1905   0.8489 
>   d          0.993180   0.00450191   220.6      0.0000  ***
output/HS_SE.out vs newout/HS_SE.out:
103c103
< Function evaluations: 41
---
> Function evaluations: 48
112,113c112,113
<   g          0.398222   2.33025        0.1709   0.8643 
<   d          0.993180   0.00477425   208.0      0.0000  ***
---
>   g          0.398208   2.33002        0.1709   0.8643 
>   d          0.993180   0.00477388   208.0      0.0000  ***
122c122
< Function evaluations: 41
---
> Function evaluations: 48
131,132c131,132
<   g          0.398222   2.41925        0.1646   0.8693 
<   d          0.993180   0.00489357   203.0      0.0000  ***
---
>   g          0.398208   2.41899        0.1646   0.8692 
>   d          0.993180   0.00489315   203.0      0.0000  ***
141c141
< Function evaluations: 41
---
> Function evaluations: 48
150,151c150,151
<   g          0.398222   2.32451        0.1713   0.8640 
<   d          0.993180   0.00476211   208.6      0.0000  ***
---
>   g          0.398208   2.32428        0.1713   0.8640 
>   d          0.993180   0.00476175   208.6      0.0000  ***
output/verbeek_5.4m.out vs newout/verbeek_5.4m.out:
6,75c6
< 
< Read datafile /opt/esl/share/gretl/data/verbeek/pricing.gdt
< periodicity: 12, maxobs: 418
< observations range: 1959:02 to 1993:11
< 
< Listing 13 variables:
<   0) const    1) r1       2) r2       3) r3       4) r4     
<   5) r5       6) r6       7) r7       8) r8       9) r9     
<  10) r10     11) rf      12) cons   
< 
< ? set force_hc on
< ? matrix R = zeros($nobs, 11)
< Generated matrix R
< ? R[,1] = 1 + rf
< Modified matrix R
< ? loop j=1..10 --quiet
< > R[,j+1] = rf - r$j
< > endloop
< ? scalar delta=0.5
< Generated scalar delta = 0.5
< ? scalar gamma=0.5
< Generated scalar gamma = 0.5
< ? matrix E = {delta * cons^(-gamma)} .* R
< Generated matrix E
< ? matrix V0 = I(11)
< Generated matrix V0
< ? gmm
< ? E = {delta * cons^(-gamma)} .* R
< ? E[,1] -= 1
< ? orthog E ; const
< ? weights V0
< ? params delta gamma
< ? end gmm
< Tolerance = 1.81899e-12
< 
< Function evaluations: 102
< Evaluations of gradient: 36
< 
< Model 1: 1-step GMM, using observations 1959:02-1993:11 (T = 418)
< 
<              estimate    std. error     z     p-value 
<   ----------------------------------------------------
<   delta       0.699606    0.143567    4.873   1.10e-06 ***
<   gamma      91.4099     38.1187      2.398   0.0165   **
< 
<   GMM criterion: Q = 4.46296e-06 (TQ = 0.00186552)
< 
< ? gmm
< ? E = {delta * cons^(-gamma)} .* R
< ? E[,1] -= 1
< ? orthog E ; const
< ? weights V0
< ? params delta gamma
< ? end gmm --iterate
< Tolerance = 1.81899e-12
< 
< Function evaluations: 12
< Evaluations of gradient: 1
< 
< Model 2: Iterated GMM, using observations 1959:02-1993:11 (T = 418)
< 
<              estimate    std. error     z     p-value 
<   ----------------------------------------------------
<   delta       0.827341    0.116157    7.123   1.06e-12 ***
<   gamma      57.3990     34.2203      1.677   0.0935   *
< 
<   GMM criterion: Q = 0.0135999 (TQ = 5.68478)
<   J test: Chi-square(9) = 5.68478 [0.7710]
< 
< Done
---
> pricing.gdt: No such file or directory
output/verbeek_5.4.out vs newout/verbeek_5.4.out:
6,109c6
< 
< Read datafile /opt/esl/share/gretl/data/verbeek/pricing.gdt
< periodicity: 12, maxobs: 418
< observations range: 1959:02 to 1993:11
< 
< Listing 13 variables:
<   0) const    1) r1       2) r2       3) r3       4) r4     
<   5) r5       6) r6       7) r7       8) r8       9) r9     
<  10) r10     11) rf      12) cons   
< 
< ? set force_hc on
< ? scalar delta=0.5
< Generated scalar delta = 0.5
< ? scalar gamma=0.5
< Generated scalar gamma = 0.5
< ? series dcg = delta*cons^(-gamma)
< Generated series dcg (ID 13)
< ? list elist = null
< Generated list elist
< ? series e0 = dcg*(1+rf)-1
< Generated series e0 (ID 14)
< ? elist = e0
< Replaced list elist
< ? loop j=1..10
< > series e$j = dcg*(rf-r$j)
< > elist += e$j
< > endloop
< loop: j = 1
< 
< ? series e1 = dcg*(rf-r1)
< ? elist += e1
< loop: j = 2
< 
< ? series e2 = dcg*(rf-r2)
< ? elist += e2
< loop: j = 3
< 
< ? series e3 = dcg*(rf-r3)
< ? elist += e3
< loop: j = 4
< 
< ? series e4 = dcg*(rf-r4)
< ? elist += e4
< loop: j = 5
< 
< ? series e5 = dcg*(rf-r5)
< ? elist += e5
< loop: j = 6
< 
< ? series e6 = dcg*(rf-r6)
< ? elist += e6
< loop: j = 7
< 
< ? series e7 = dcg*(rf-r7)
< ? elist += e7
< loop: j = 8
< 
< ? series e8 = dcg*(rf-r8)
< ? elist += e8
< loop: j = 9
< 
< ? series e9 = dcg*(rf-r9)
< ? elist += e9
< loop: j = 10
< 
< ? series e10 = dcg*(rf-r10)
< ? elist += e10
< 
< Number of iterations: 10
< 
< ? matrix V0=I(11)
< Generated matrix V0
< ? gmm
< ? dcg = delta*cons^(-gamma)
< ? e0 = dcg*(1+rf)-1
< ? e1 = dcg*(rf-r1)
< ? e2 = dcg*(rf-r2)
< ? e3 = dcg*(rf-r3)
< ? e4 = dcg*(rf-r4)
< ? e5 = dcg*(rf-r5)
< ? e6 = dcg*(rf-r6)
< ? e7 = dcg*(rf-r7)
< ? e8 = dcg*(rf-r8)
< ? e9 = dcg*(rf-r9)
< ? e10 = dcg*(rf-r10)
< ? orthog elist ; const
< ? weights V0
< ? params delta gamma
< ? end gmm
< Tolerance = 1.81899e-12
< 
< Function evaluations: 102
< Evaluations of gradient: 36
< 
< Model 1: 1-step GMM, using observations 1959:02-1993:11 (T = 418)
< 
<              estimate    std. error     z     p-value 
<   ----------------------------------------------------
<   delta       0.699606    0.143567    4.873   1.10e-06 ***
<   gamma      91.4099     38.1187      2.398   0.0165   **
< 
<   GMM criterion: Q = 4.46296e-06 (TQ = 0.00186552)
< 
< Done
---
> pricing.gdt: No such file or directory
output/vtest.out vs newout/vtest.out:
6,58c6
< 
< Read datafile /opt/esl/share/gretl/data/verbeek/pricing.gdt
< periodicity: 12, maxobs: 418
< observations range: 1959:02 to 1993:11
< 
< Listing 13 variables:
<   0) const    1) r1       2) r2       3) r3       4) r4     
<   5) r5       6) r6       7) r7       8) r8       9) r9     
<  10) r10     11) rf      12) cons   
< 
< ? loop i=1..10 --quiet
< > genr ex$i = r$i - rf
< > endloop
< ? series gf = 1 + rf
< Generated series gf (ID 23)
< ? list exlist = ex*
< Generated list exlist
< ? matrix exr = { exlist }
< Generated matrix exr
< ? scalar d = 1
< Generated scalar d = 1
< ? scalar g = 100
< Generated scalar g = 100
< ? matrix V = I(11)
< Generated matrix V
< ? series m = d * cons^(-g)
< Generated series m (ID 24)
< ? series oc1 = m * gf - 1
< Generated series oc1 (ID 25)
< ? gmm
< ? m = d * cons^(-g)
< ? oc1 = m * gf - 1
< ? orthog oc1 ; const
< ? orthog m ; exr
< ? weights V
< ? params d g
< ? end gmm
< Tolerance = 1.81899e-12
< 
< Function evaluations: 79
< Evaluations of gradient: 26
< 
< Model 1: 1-step GMM, using observations 1959:02-1993:11 (T = 418)
< HAC standard errors, bandwidth 5 (Bartlett kernel)
< 
<              estimate    std. error     z     p-value 
<   ----------------------------------------------------
<   d           0.699606    0.143540    4.874   1.09e-06 ***
<   g          91.4099     38.8075      2.355   0.0185   **
< 
<   GMM criterion: Q = 4.46296e-06 (TQ = 0.00186552)
< 
< Done
---
> pricing.gdt: No such file or directory
